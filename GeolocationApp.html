<!DOCTYPE html>
<html lang="en">

<head>
  <title>Geographic Data</title>
</head>

<body onload="mapLoad()">
  <h1>Location Demo</h1>
  <form action="">
    <div>
      <label for="ipAddress">IP Address: </label>
      <label id="ipAddress"></label><br>
      <label for="country">Country: </label>
      <label id="country"></label><br>
      <label for="cityState">City, State: </label>
      <label id="cityState"></label><br><br>
      <label id="coordinates">Coordinates: </label><br>
      <label for="latitude">Latitude: </label>
      <label id="latitude"></label><br>
      <label for="longitude">Longitude: </labiv>
        <label id="longitude"></label><br><br>
        <a id="mapLink" href="">Visit the location!</a><br><br>
    </div>
    <div id='map' style='width: 400px; height: 300px;'>
      <script name='Geo' src="GeolocationApp.js"></script>
      <script name='interactiveMap' src='https://api.mapbox.com/mapbox-gl-js/v2.0.1/mapbox-gl.js'></script>
      <link href="https://api.mapbox.com/mapbox-gl-js/v2.0.1/mapbox-gl.css" rel="stylesheet" />
      <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/es6-promise@4/dist/es6-promise.auto.min.js"></script>
      <script
        src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
      <link rel="stylesheet"
        href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css"
        type="text/css" />
    </div>

    <script>
      //More examples - https://docs.mapbox.com/mapbox-gl-js/example/
      setTimeout(function () {
        //alert(document.getElementById("longitude").innerHTML);
        //alert(document.getElementById("latitude").innerHTML);
        mapboxgl.accessToken = 'pk.eyJ1IjoiY2NyaXRlcyIsImEiOiJja2p6eHV3ZmgwMGxqMnVucHhkNjh0cHR3In0.69gImwNoAhlJHVYI2urkDA';
        var map = new mapboxgl.Map({
          container: 'map',
          style: 'mapbox://styles/mapbox/streets-v11', // stylesheet location
          center: [document.getElementById("longitude").innerHTML, document.getElementById("latitude").innerHTML], // starting position [lng, lat]
          zoom: 10
        });
        var marker = new mapboxgl.Marker()
          .setLngLat([document.getElementById("longitude").innerHTML, document.getElementById("latitude").innerHTML])
          .addTo(map);
        map.addControl(
          new MapboxGeocoder({
            accessToken: mapboxgl.accessToken,
            mapboxgl: mapboxgl
          })
        );
      }, 600);
    </script>
  </form>
</body>

</html
